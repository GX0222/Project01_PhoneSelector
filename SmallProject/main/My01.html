<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <!-- <script src="../Link/jquery-3.7.1.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-toast-plugin/1.3.2/jquery.toast.js"></script>
    <style>
        li.nav-item>a.active {
            color: lightseagreen !important;
        }

        div.div_phone {
            margin: 2px;
            margin-right: 0px;
            margin-left: 0px;
            border: solid;
            height: 450px;
            /* width: auto; */
            /* width: 225px; */
            /* display: inline-block; */
        }

        div#div_phone_bg {
            padding-top: 2px;
            padding-bottom: 2px;
            padding-left: auto;
            padding-right: auto;
            /* text-align:center; */
        }

        div#ch_op {
            width: 200px;
            background-color: blueviolet;
            /* text-align: center; */
            color: aliceblue;
            font-size: medium;
        }

        ul.ch_ul {
            list-style: none;
        }

        span.select_title {
            font-size: larger;
        }
    </style>
</head>

<body>

    <!-- ========== navbar start ========== -->
    <nav class="navbar navbar-expand-lg bg-light w-100" style="position:fixed; top: 0px;">
        <div class="container-fluid">
            <a href="#" class="navbar-brand" style="margin-right: 100px;">Logo</a> <!-- Logo-->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="mynavbar">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a id="home" onclick="nav_item_active(0)" class="nav-link active" aria-current="page"
                            href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a id="news" onclick="nav_item_active(1)" class="nav-link" aria-current="page" href="#">最新消息</a>
                    </li>
                    <li class="nav-item">
                        <a id="test" onclick="nav_item_active(2)" class="nav-link" aria-current="page" href="#">評測</a>
                    </li>
                </ul>
                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="搜尋" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
            </div>
        </div>
    </nav>
    <!-- ========== navbar end ========== -->


    <!-- ========== 背景 start ========== -->
    <div id="bg_div_top" class="bg-info" style="height: 200px; padding-top: 55px;">
        test
    </div>
    <!-- ========== 背景 end ========== -->


    <div class="border w-100 d-inline-flex">


        <!-- ========== 選擇列 start ========== -->
        <div id="ch_op" class="pt-5">

        </div>
        <!-- ========== 選擇列 end ========== -->


        <!-- ========== 手機塊 start ========== -->
        <div id="div_phone_bg" style="border: solid;" class="container">

        </div>
        <!-- ========== 手機展示塊 end ========== -->


    </div>









    <!-- ========== JS start ========== -->
    <script>

        // ========== 創建區塊內容 start ========== //
        $(document).ready(function () {
            async function get_data() {
                $.get('/mydata/phlist', function (req_ph_list) {
                    for (var i = 0; i < req_ph_list.length; i++) {
                        // console.log(req_ph_list[i]);
                        phone_div_creat(req_ph_list[i]);
                        phone_ch_div_ceat("品牌", req_ph_list[i].ph_brand, req_ph_list[i].ph_brand, i, req_ph_list.length);
                        phone_ch_div_ceat("處理器", req_ph_list[i].ph_cpu, req_ph_list[i].ph_cpu, i, req_ph_list.length);
                        phone_ch_div_ceat("螢幕尺寸", req_ph_list[i].scr_size, req_ph_list[i].scr_size+" 吋", i, req_ph_list.length);
                        phone_ch_div_ceat("螢幕刷新率", req_ph_list[i].scr_refresh, req_ph_list[i].scr_refresh+" hz", i, req_ph_list.length);
                        phone_ch_div_ceat("Wifi", req_ph_list[i].ph_wifi, req_ph_list[i].ph_wifi, i, req_ph_list.length);
                        phone_ch_div_ceat("傳輸接口", req_ph_list[i].ph_port, req_ph_list[i].ph_port, i, req_ph_list.length);
                    }
                })
            }
            get_data();
        })
        // ========== 創建區塊內容 end ========== //



        // ========== navitem 當前頁面醒目切換 start ========== //
        function nav_item_active(nav_item_rank) {
            if (nav_item_rank == 0) {
                console.log("YES");
                let x = document.getElementById("home");
                x.classList.add("active");
                let x2 = document.getElementById("news");
                x2.classList.remove("active");
                let x3 = document.getElementById("test");
                x3.classList.remove("active");
                let y = document.getElementById("home").classList;
                console.log(y);
            } else if (nav_item_rank == 1) {
                console.log("YES2");
                let x = document.getElementById("home");
                x.classList.remove("active");
                let x2 = document.getElementById("news");
                x2.classList.add("active");
                let x3 = document.getElementById("test");
                x3.classList.remove("active");
                let y = document.getElementById("news").classList;
                console.log(y);
            } else if (nav_item_rank == 2) {
                console.log("YES3");
                let x = document.getElementById("home");
                x.classList.remove("active");
                let x2 = document.getElementById("news");
                x2.classList.remove("active");
                let x3 = document.getElementById("test");
                x3.classList.add("active");
                let y = document.getElementById("test").classList;
                console.log(y);
            }
        }
        // ========== navitem 當前頁面醒目切換 end ========== //



        // ========== toast start =========== //
        function showToast(heading, message) {
            $.toast({
                text: message, // Text that is to be shown in the toast
                heading: heading, // Optional heading to be shown on the toast
                icon: 'warning', // Type of toast icon
                showHideTransition: 'fade', // fade, slide or plain
                allowToastClose: true, // Boolean value true or false
                hideAfter: 3000, // false to make it sticky or number representing the miliseconds as time after which toast needs to be hidden
                stack: 5, // false if there should be only one toast at a time or a number representing the maximum number of toasts to be shown at a time
                position: 'top-right', // bottom-left or bottom-right or bottom-center or top-left or top-right or top-center or mid-center or an object representing the left, right, top, bottom values
                textAlign: 'left',  // Text alignment i.e. left, right or center
                loader: true,  // Whether to show loader or not. True by default
                loaderBg: '#9ec600',  // Background color of the toast loader
                beforeShow: function () { }, // will be triggered before the toast is shown
                afterShown: function () { }, // will be triggered after the toat has been shown
                beforeHide: function () { }, // will be triggered before the toast gets hidden
                afterHidden: function () { }  // will be triggered after the toast has been hidden
            });
        }
        // ========== toast end ========== //



        // ========== 創建選擇列 Function Start ========== //
        var ch_brand_array = [];
        function phone_ch_div_ceat(title_name, creat_id, show_name, i, fun_end) {
            ch_brand_array.push(creat_id);
            let old_length = ch_brand_array.length;
            ch_brand_array = ch_brand_array.filter(function (item, index, array) {
                return array.indexOf(item) === index;
            });

            if (i == 0) {
                $("#ch_op").append(
                    `<ul class="ch_ul ps-3 ch_creat_ul_${title_name}">
                    <span class="select_title ch_creat_title_${title_name}">${title_name}</span>
                    <li>
                        <input id="ch_${creat_id}" type="checkbox" class="form-check-input">
                            <label class="form-check-label" for="ch_${creat_id}">&nbsp;${show_name}</label>
                    </li>
                </ul>`
                )
            }
            else if (old_length == ch_brand_array.length) {
                $(`ul.ch_creat_ul_${title_name}`).append(
                    `<li>
                        <input id="ch_${creat_id}" type="checkbox" class="form-check-input">
                            <label class="form-check-label" for="ch_${creat_id}">&nbsp;${show_name}</label>
                    </li>
                </ul>`
                )
            }
            i++;
            if (i == fun_end) {
                $(`ul.ch_creat_ul_${title_name}`).removeClass(`ch_creat_ul_${title_name}`);
                $(`span.ch_creat_title_${title_name}`).removeClass(`ch_creat_title_${title_name}`);
            }
        }
        // ========== 創建選擇列 Function End ========== //



        // ========== 創建手機塊 Function start ========== //               創建DIV ID="div_phone_${x.ph_id}"
        function phone_div_creat(x) {
            let y = Math.floor(x.ph_id / 4);
            // console.log(x);
            // console.log(x.ph_id);
            // console.log(y);
            if (x.ph_id % 4 == 1) {
                $("#div_phone_bg").append(
                    `<div class="d-xl-flex">
                        <div class="d-md-flex w-100  pe-md-3  pb-md-0 me-xl-3 pb-xl-0 div_phone_bg${y}_1">
                            <div id="div_phone_${x.ph_id}" class="div_phone col-md-6 mb-3 me-md-3 mt-md-0">
                                <p>${x.ph_name}</p> 
                            </div>
                        </div>
                        <div class="d-md-flex w-100 pe-md-3 pb-md-0 div_phone_bg${y}_2">
                        </div>
                    </div>`
                )
            }
            else if (x.ph_id % 4 == 2) {
                $(`div.div_phone_bg${y}_1`).append(
                    `<div id="div_phone_${x.ph_id}" class="div_phone col-md-6 mb-3 me-md-3 mt-md-0">
                        <p>${x.ph_name}</p>
                    </div>`
                )
                $(`div.div_phone_bg${y}_1`).removeClass(`div_phone_bg${y}_1`);
            }
            else if (x.ph_id % 4 == 3) {
                $(`div.div_phone_bg${y}_2`).append(
                    `<div id="div_phone_${x.ph_id}" class="div_phone col-md-6 mb-3 me-md-3 mt-md-0">
                        <p>${x.ph_name}</p>
                    </div>`
                )
            }
            else if (x.ph_id % 4 == 0) {
                $(`div.div_phone_bg${y - 1}_2`).append(
                    `<div id="div_phone_${x.ph_id}" class="div_phone col-md-6 mb-3 me-md-3 mt-md-0">
                        <p>${x.ph_name}</p>
                    </div>`
                )
                $(`div.div_phone_bg${y - 1}_2`).removeClass(`div_phone_bg${y - 1}_2`)
            }
        }

        // ========== 創建手機塊 Function end ========== //



    </script>
    <!-- ========== JS end ========== -->
</body>

</html>